<calendar header-style='header-style' weekheight="100" speciallist="{{speciallist}}" txt_style='{{txt_style}}' bindselectDate='selectDate' bindnextMonth='nextMonth' bindprevMonth='prevMonth'  mystatus='{{mystatus}}' circle_show="{{true}}"/>

<view style="position:relative;">
  <view style="height:75rpx;width:100%;text-align:center" bindtap="changeHeight"> {{bmiInfo}}</view>
  <!-- <image style="position:absolute;right:10%;top:5rpx; height:40rpx; width:6%;" src="../../images/help.png" bindtap="showBmiTip"></image> -->
  
  <van-icon style="position:absolute;right:20%;top:0;" size="50rpx"  bindtap="showBmiTip"  name="info-o" />
  <van-icon style="position:absolute;right:11%;top:0;" size="50rpx" bindtap="save"  name="share" />
  <van-icon style="position:absolute;right:2%;top:0;" size="50rpx" bindtap="clockSet"  name="clock-o" />
</view>

<view class="container" hidden="{{ visible || visibleBmi || visibleHeight || hiddenChart || showImage || visibleClock}}">
  <ec-canvas  id="mychart-dom-line" canvas-id="mychart-line" ec="{{ ec }}"></ec-canvas>
</view>

<van-dialog use-slot show="{{ visibleBmi }}" bind:close="handleShowBmi" zIndex="100000">
  <view style='text-align:center;padding:5px;' bindtap='showBmiInfo'>BMI 中国标准</view>
  <view wx:for="{{tips}}" wx:for-item="item" wx:key="index" style="display:flex;height:30px;flex-direction:row;background: {{item.color}}">
    <view class="left ">{{item.left}}</view>
    <view class="right">{{item.right}}</view>
  </view>
</van-dialog>

<van-dialog use-slot title="请录入信息" show="{{ visible }}" bind:close="handleInsertWeight" zIndex="100000" show-cancel-button>
  <van-cell-group>
    <van-field label="日期" value="{{ currentdate }}" placeholder="" border="{{ true }}" disabled bind:change="onChangeTime" />
    <van-field label="体重" value="{{ weight }}" right-icon="photo-o" bind:click-icon="uploadPhoto" type="digit" placeholder="请输入体重" border="{{ true }}" bind:change="onChangeWeight" />
  </van-cell-group>
</van-dialog>

<van-dialog use-slot title="请输入身高信息" show="{{ visibleHeight }}" bind:close="handleInsertHeight" show-cancel-button zIndex="100000">
  <van-cell-group>
    <van-field type="number" label="身高" value="{{ height }}" placeholder="请输入身高信息（cm）" border="{{ true }}" bind:change="onChangeHeight" />
    <van-switch-cell title="体重单位（KG）" checked="{{ kgFlag }}" bind:change="onChange" />
  </van-cell-group>
</van-dialog>

<van-notify id="van-notify" />

<van-dialog cancelButtonText="{{showImageButton ? '取消': '长按图片修改'}}" confirmButtonText="保存本地" bind:close="downLoadImage" closeOnClickOverlay="{{true}}" use-slot show="{{ fileid && showImage }}" showCancelButton="{{true}}"  showConfirmButton="{{showImageButton}}"  zIndex="1000001">
  <image class="coverImage" src="{{fileid}}" bindtap="hideImage"  bindlongpress="longTapImage" mode="widthFix"> </image>
</van-dialog>

<canvasdrawer painting="{{painting}}" class="canvasdrawer" bind:getImage="eventGetImage"/>

<van-action-sheet
  z-index="1000002"	
  show="{{ showActions }}"
  actions="{{ actions }}"
  cancel-text="取消"
  overlay="{{true}}"
  close-on-click-overlay="{{true}}"
  bind:cancel="onClose"
  bind:close="onClose"
  bind:select="onSelect"
/>

<van-dialog use-slot title="设置定时推送提醒" show="{{ visibleClock }}" bind:close="handleClockSet" showConfirmButton="{{false}}"  zIndex="100000">
  <form bindsubmit='handleClockSet' report-submit='true'>
    <van-cell-group>
      <van-cell title="单元格" value="{{clockDate}}" bindtap="showDateInput"/>
      <van-switch-cell title="定时开关" checked="{{ clockOpen }}" bind:change="onClockOpenChange" />
    </van-cell-group>
    <view class='buttons'>
      <button class='canclebtn' bindtap='handleClockCancel'>取消</button>
      <button class='confirmbtn' form-type='submit'>确定</button>
    </view>
  </form>
  
</van-dialog>

<van-popup show="{{ visibleDate }}" bind:close="onDateClose" position="bottom" zIndex="100001">
    <van-datetime-picker
      type="time"
      value="{{ clockDate }}"
      bind:confirm="onClockDateConfirm"
      bind:cancel="onClockDateCancel"
    />
</van-popup>

<form bindsubmit='registerFormSubmit' report-submit='true'>
  <view class='buttons'>
    <button class='canclebtn' bindtap='verifyCancleAction'>取消</button>
    <button class='confirmbtn' form-type='submit'>确定</button>
  </view>
</form>